<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NST Trip Sheet</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Poppins',sans-serif; background:#f4f6f9; max-width:800px; margin:0 auto; padding:20px }
    h2 { color:#4b2aad }
    label { font-weight:bold; margin-top:10px; display:block }
    input, select, textarea, button {
      width:100%; padding:10px; margin:5px 0 15px;
      border:1px solid #ccc; border-radius:5px; font-size:16px;
    }
    button { background:#4b2aad; color:#fff; border:none; cursor:pointer }
    button:hover { background:#3a208b }
  </style>
</head>
<body>

<h2>üìù NST Trip Sheet</h2>

<label>Trip ID</label>
<input id="tripId" readonly>

<label>Date</label>
<input type="date" id="tripDate">

<label>Pickup Location</label>
<input id="pickupLocation" placeholder="Enter pickup location" type="text">

<label>Drop Location</label>
<input id="dropLocation" placeholder="Enter drop location" type="text">

<label>Customer Name</label>
<input id="custName">

<label>Customer Number</label>
<input id="custNumber">

<label>Driver Name</label>
<select id="driverName"></select>

<label>Driver Number</label>
<select id="driverNumber"></select>

<label>Vehicle Model</label>
<select id="vehicleModel"></select>

<label>Vehicle Number</label>
<select id="vehicleNo"></select>

<label>Start Time</label>
<input type="time" id="startTime">

<label>End Time</label>
<input type="time" id="endTime">

<label>Extra Hours</label>
<input type="number" id="extraHours" placeholder="Enter Extra Hours">

<label>Start KM</label>
<input type="number" id="startKM">

<label>End KM</label>
<input type="number" id="endKM">

<label>Total KM</label>
<input id="totalKM" readonly>

<label>Extra KM</label>
<input type="number" id="extraKM" placeholder="Enter Extra KM">

<label>Total Amount ‚Çπ</label>
<input type="number" id="totalAmount">

<label>Parking ‚Çπ</label>
<input type="number" id="parking" value="0">

<label>Toll ‚Çπ</label>
<input type="number" id="toll" value="0">

<label>Note</label>
<textarea id="note" rows="3"></textarea>

<label>Payment Status</label>
<select id="paymentStatus">
  <option value="Paid">Paid</option>
  <option value="Not Paid">Not Paid</option>
</select>

<button onclick="shareWhatsApp()">üì§ Share via WhatsApp</button>

<script>
  const SHKEY = "shared-trips";

  function genTripId() {
    let n = parseInt(localStorage.getItem("trip-seq") || "1");
    return "#NST" + String(n).padStart(3, "0");
  }

  function reserveTripId() {
    let c = parseInt(localStorage.getItem("trip-seq") || "1");
    localStorage.setItem("trip-seq", c + 1);
    return genTripId();
  }
