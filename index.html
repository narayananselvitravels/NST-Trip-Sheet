<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NST Trip Sheet</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f0f0f5;
      padding: 20px;
      margin: 0;
      color: #333;
    }
    h2 {
      color: #4b2aad;
      margin-bottom: 10px;
    }
    input, select, textarea, button {
      font-family: 'Poppins', sans-serif;
      margin: 4px 0;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
      box-sizing: border-box;
    }
    label {
      font-weight: 600;
    }
    .row {
      display: flex;
      gap: 16px;
    }
    .col {
      flex: 1;
    }
    .section {
      background: white;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .trip-card {
      background: #fff;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .trip-actions button {
      margin-right: 6px;
    }
    #tripPopup, #ratePopup {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.4);
      display: none;
      align-items: center;
      justify-content: center;
    }
    .popup-content {
      background: white;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #4b2aad;
      color: white;
    }
  </style>
</head>
<body>

  <h2>NST Trip Sheet</h2>

  <div class="section" id="mainForm">
    <div class="row">
      <div class="col">
        <label>Trip ID</label>
        <input id="tripId" readonly>
      </div>
      <div class="col">
        <label>Trip Date</label>
        <input id="tripDate" type="date">
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Customer Name</label>
        <input id="custName">
      </div>
      <div class="col">
        <label>Customer Number</label>
        <input id="custNumber">
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Driver Name</label>
        <input id="driverName">
      </div>
      <div class="col">
        <label>Driver Number</label>
        <input id="driverNumber">
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Vehicle Model</label>
        <select id="vehicleModel">
          <option value="">Select</option>
          <option>Innova Crysta</option>
          <option>Innova Hycross</option>
          <option>Force Urbania</option>
        </select>
      </div>
      <div class="col">
        <label>Vehicle Number</label>
        <select id="vehicleNo">
          <option value="">Select</option>
          <option>PY05N0505</option>
          <option>PY01DB1007</option>
          <option>TN14AP2084</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Start Time</label>
        <input id="startTime" type="time">
      </div>
      <div class="col">
        <label>End Time</label>
        <input id="endTime" type="time">
      </div>
      <div class="col">
        <label>Duration (hrs)</label>
        <input id="duration" readonly>
      </div>
      <div class="col">
        <label>Extra Hours</label>
        <input id="extraHours" readonly>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Start KM</label>
        <input id="startKM" type="number">
      </div>
      <div class="col">
        <label>End KM</label>
        <input id="endKM" type="number">
      </div>
      <div class="col">
        <label>Total KM</label>
        <input id="totalKM" readonly>
      </div>
      <div class="col">
        <label>Extra KM</label>
        <input id="extraKM" readonly>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Package ‚Çπ</label>
        <input id="packageCost">
      </div>
      <div class="col">
        <label>Extra Hr ‚Çπ</label>
        <input id="extraHrCost">
      </div>
      <div class="col">
        <label>Extra KM ‚Çπ</label>
        <input id="extraKmCost">
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Toll ‚Çπ</label>
        <input id="toll" type="number">
      </div>
      <div class="col">
        <label>Parking ‚Çπ</label>
        <input id="parking" type="number">
      </div>
      <div class="col">
        <label>Total ‚Çπ</label>
        <input id="totalCost" readonly>
      </div>
    </div>
    <label>Note</label>
    <textarea id="note"></textarea>
    <div class="buttons">
      <button onclick="saveTrip()">üíæ Save Trip</button>
      <button onclick="clearForm()">üÜï New Trip</button>
      <button onclick="showTrips()">üìÇ View All Trips</button>
      <button onclick="exportPDF()">üñ®Ô∏è Print / PDF</button>
      <button onclick="shareLast()">üì§ Share WhatsApp</button>
      <button onclick="openRates()">‚öôÔ∏è Edit Rates</button>
    </div>
  </div>

  <div id="tripPopup"><div class="popup-content">
    <h3>All Trips</h3>
    <div id="tripList"></div>
    <button onclick="tripPopup.style.display='none'">Close</button>
  </div></div>

  <div id="ratePopup"><div class="popup-content">
    <h3>Edit Rates</h3>
    <table>
      <thead><tr><th>Model</th><th>Package ‚Çπ</th><th>Extra Hr ‚Çπ</th><th>Extra KM ‚Çπ</th><th>Free KM</th></tr></thead>
      <tbody id="rateRows"></tbody>
    </table>
    <button onclick="saveRates()">üíæ Save Rates</button>
    <button onclick="ratePopup.style.display='none'">Close</button>
  </div></div>

<script>
// Part 2 and Part 3 scripts go here
</script>

</body>
</html>
